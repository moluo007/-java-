# 仓库管理系统

## 问题描述
您遇到的"当前是第[1/0]页"问题，表明系统没有查询到任何数据，总页数为0。

## 问题原因分析
1. **数据库中没有数据** - 最常见的原因
2. **数据库连接问题** - 连接失败或配置错误
3. **表结构不匹配** - 代码中的字段名与数据库表字段名不一致
4. **查询条件过于严格** - 没有匹配到任何数据

## 解决方案

### 1. 检查数据库连接
确保MySQL服务已启动，并检查连接配置：
- 数据库地址：127.0.0.1:3306
- 数据库名：jiruan
- 用户名：root
- 密码：123456

### 2. 创建数据库和表
运行提供的SQL脚本：
```bash
mysql -u root -p < database_setup.sql
```

### 3. 运行诊断程序
编译并运行诊断程序来检查系统状态：
```bash
javac -cp "src:lib/*" src/cn/jiruan/Main/DatabaseTest.java
java -cp "src:lib/*" cn.jiruan.Main.DatabaseTest
```

### 4. 检查表结构
确保数据库表结构与代码中的字段名一致：

**warehouse表字段：**
- warehousePrimaryKey (主键)
- warehouseId (仓库编号)
- warehouseName (仓库名称)
- warehouseCapacity (仓库容量)
- warehouseAddress (仓库地址)

### 5. 添加测试数据
如果数据库中没有数据，请先添加一些测试数据：
```sql
INSERT INTO warehouse (warehouseId, warehouseName, warehouseCapacity, warehouseAddress) VALUES
(1001, '主仓库A', 1000, '北京市朝阳区仓库路1号'),
(1002, '冷冻仓库B', 800, '上海市浦东新区冷冻路2号');
```

## 系统功能

### 仓库管理
- 新建仓库
- 仓库查询（支持按名称或ID查询）
- 修改仓库
- 删除仓库

### 库存管理
- 库存查询
- 产品入库
- 产品出库
- 产品调拨

## 使用说明

1. **启动系统**：运行 `Main.java`
2. **登录/注册**：首次使用需要注册账户
3. **选择功能**：在主菜单中选择仓库管理或库存管理
4. **查询仓库**：选择仓库查询，可以按名称或ID查询
5. **分页浏览**：使用 +1/-1 进行翻页

## 分页说明
- 每页显示4条记录
- 当没有数据时，总页数显示为1（已修复）
- 翻页时会自动重新查询数据

## 常见问题

### Q: 为什么显示"当前是第[1/0]页"？
A: 这表示数据库中没有查询到任何数据。请检查：
- 数据库连接是否正常
- 数据库中是否有数据
- 查询条件是否正确

### Q: 如何添加测试数据？
A: 运行 `database_setup.sql` 脚本，或手动执行INSERT语句添加数据。

### Q: 数据库连接失败怎么办？
A: 检查：
- MySQL服务是否启动
- 端口3306是否开放
- 用户名密码是否正确
- 数据库jiruan是否存在

## 技术架构
- **语言**：Java
- **数据库**：MySQL
- **架构模式**：DAO + Service + Main
- **分页**：自定义PageHelper类

## 文件结构
```
src/
├── cn/jiruan/
│   ├── dao/          # 数据访问层
│   ├── pojo/         # 实体类
│   ├── service/      # 业务逻辑层
│   ├── util/         # 工具类
│   └── Main/         # 主程序
lib/                   # 依赖库
```

## 联系方式
如有问题，请检查：
1. 数据库连接状态
2. 表结构和数据
3. 运行诊断程序的结果 